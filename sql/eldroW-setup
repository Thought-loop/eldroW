BEGIN TRANSACTION;
 DROP TABLE IF EXISTS eldrow_user, solutions_5;
 DROP SEQUENCE IF EXISTS seq_user_id, seq_word_id_solutions_5;

CREATE SEQUENCE seq_user_id
  INCREMENT BY 1
  START WITH 101
  NO MAXVALUE;
  
CREATE TABLE eldrow_user(
user_id int NOT NULL DEFAULT nextval('seq_user_id'),
	wins int NOT NULL,
	losses int NOT NULL,
	games int NOT NULL,
	CONSTRAINT PK_eldrow_user PRIMARY KEY (user_id)
);

CREATE TABLE user_previous_words(
	user_id int NOT NULl,
	word_id int NOT NULL,
	CONSTRAINT FK_previous_word_user_id FOREIGN KEY (user_id) REFERENCES eldrow_user (user_id),
	CONSTRAINT FK_previous_word_id FOREIGN KEY (word_id) REFERENCES solutions_5 (word_id)
);

CREATE SEQUENCE seq_word_id_solutions_5
  INCREMENT BY 1
  START WITH 10000
  NO MAXVALUE;

CREATE TABLE solutions_5(
	word_id int NOT NULL DEFAULT nextval('seq_word_id_solutions_5'),
	word varchar(10),
	solution boolean,
	enabled boolean DEFAULT true,
	CONSTRAINT PK_solutions_5 PRIMARY KEY (word_id)
);

COMMIT;
-- CREATE SEQUENCE seq_word_id_valid_guesses_5
--   INCREMENT BY 1
--   START WITH 50000
--   NO MAXVALUE; 

-- CREATE TABLE valid_guesses_5(
-- 	word_id int NOT NULL DEFAULT nextval('seq_word_id_valid_guesses_5'),
-- 	word varchar(10),
-- 	enabled boolean DEFAULT true
-- );